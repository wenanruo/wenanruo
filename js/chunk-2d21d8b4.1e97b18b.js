(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21d8b4"],{d26f:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:"/home"}},[e._v("首页")]),n("el-breadcrumb-item",[e._v("商品管理")]),n("el-breadcrumb-item",[e._v("商品列表")])],1),n("el-card",[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getGoodsList},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getGoodsList(t)}},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getGoodsList},slot:"append"})],1)],1),n("el-col",{attrs:{span:16}},[n("el-button",{attrs:{type:"primary"},on:{click:e.goGoodsAdd}},[e._v("添加商品")])],1)],1),n("el-table",{attrs:{data:e.goodslist,stripe:"",border:""}},[n("el-table-column",{attrs:{type:"index",label:"编号"}}),n("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:"600px"}}),n("el-table-column",{attrs:{prop:"goods_weight",label:"商品重量",width:"100px"}}),n("el-table-column",{attrs:{prop:"add_time",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("dateFormat")(t.row.add_time)))]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-edit-icon"}},[e._v("编辑")]),n("el-button",{attrs:{size:"mini",type:"danger",icon:"el-delete-icon"},on:{click:function(n){return e.remove(t.row.goods_id)}}},[e._v("删除")])]}}])})],1),n("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[50,100,200,300],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},a=[],o=(n("96cf"),n("89ba")),s={created:function(){this.getGoodsList()},data:function(){return{queryInfo:{query:"",pagenum:1,pagesize:50},goodslist:[],total:0}},methods:{getGoodsList:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("goods",{params:this.queryInfo});case 2:t=e.sent,n=t.data,this.goodslist=n.data.goods,this.total=n.data.total;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){this.queryInfo.pagesize=e,this.getGoodsList()},handleCurrentChange:function(e){this.queryInfo.pagenum=e,this.getGoodsList()},remove:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.delete("goods/".concat(e));case 2:if(r=n.sent,a=r.data,200==a.meta.status){n.next=6;break}return n.abrupt("return",t.$message.error("删除失败"));case 6:t.getGoodsList();case 7:case"end":return n.stop()}}),n)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},goGoodsAdd:function(){this.$router.push("/goods/add")}},filters:{}},i=s,l=n("2877"),u=Object(l["a"])(i,r,a,!1,null,"33cd618a",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d21d8b4.1e97b18b.js.map